import{_ as y,a as V,c as k,b as m,d as r,w as l,i as n,u as P,e as p,m as R,E as C,h as c}from"./index-BOupgZvc.js";import{u as U}from"./user-CytZz1UO.js";import"./request-sz1W-oIh.js";const h={class:"min-h-[calc(100vh-140px)] flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},E={class:"w-full max-w-md p-8 md:p-10 rounded-xl shadow-2xl",style:{background:"var(--bg-secondary)"}},q={class:"text-center mt-4"},B={__name:"Register",setup(N){const f=P(),g=U(),i=c(),d=c(!1),o=R({username:"",password:"",confirmPassword:"",email:""}),_={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3-20 之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少 6 位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(u,e,s)=>{e!==o.password?s(new Error("两次输入的密码不一致")):s()},trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱",trigger:"blur"}]},w=async()=>{await i.value.validate(async u=>{if(u){d.value=!0;try{await g.userRegister(o),C.success("注册成功，请登录"),f.push("/login")}catch(e){console.error("注册失败:",e)}finally{d.value=!1}}})};return(u,e)=>{const s=n("el-input"),t=n("el-form-item"),b=n("el-button"),v=n("router-link"),x=n("el-form");return V(),k("div",h,[m("div",E,[e[6]||(e[6]=m("h2",{class:"text-2xl font-bold text-center mb-8",style:{color:"var(--text-primary)"}}," 用户注册 ",-1)),r(x,{ref_key:"formRef",ref:i,model:o,rules:_,"label-width":"80px"},{default:l(()=>[r(t,{label:"用户名",prop:"username"},{default:l(()=>[r(s,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=a=>o.username=a),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),r(t,{label:"密码",prop:"password"},{default:l(()=>[r(s,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=a=>o.password=a),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),r(t,{label:"确认密码",prop:"confirmPassword"},{default:l(()=>[r(s,{modelValue:o.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=a=>o.confirmPassword=a),type:"password",placeholder:"请确认密码"},null,8,["modelValue"])]),_:1}),r(t,{label:"邮箱",prop:"email"},{default:l(()=>[r(s,{modelValue:o.email,"onUpdate:modelValue":e[3]||(e[3]=a=>o.email=a),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),r(t,null,{default:l(()=>[r(b,{type:"primary",loading:d.value,class:"w-full",onClick:w},{default:l(()=>[...e[4]||(e[4]=[p(" 注册 ",-1)])]),_:1},8,["loading"])]),_:1}),m("div",q,[r(v,{to:"/login",class:"text-sm",style:{color:"var(--color-primary)"}},{default:l(()=>[...e[5]||(e[5]=[p(" 已有账号？立即登录 ",-1)])]),_:1})])]),_:1},8,["model"])])])}}},M=y(B,[["__scopeId","data-v-5d6de52b"]]);export{M as default};
