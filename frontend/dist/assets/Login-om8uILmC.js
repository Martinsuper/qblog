import{_ as V,a as k,c as h,b as u,d as o,w as l,i as r,u as L,l as U,e as d,m as B,E as C,h as f}from"./index-BOupgZvc.js";import{u as E}from"./user-CytZz1UO.js";import"./request-sz1W-oIh.js";const N={class:"min-h-[calc(100vh-140px)] flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},R={class:"w-full max-w-md p-8 md:p-10 rounded-xl shadow-2xl",style:{background:"var(--bg-secondary)"}},q={class:"text-center mt-4"},K={__name:"Login",setup(S){const _=L(),g=E(),m=f(),n=f(!1),t=B({username:"",password:"",remember:!1}),b={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少 6 位",trigger:"blur"}]},i=async()=>{await m.value.validate(async p=>{if(p){n.value=!0;try{await g.userLogin(t),C.success("登录成功"),_.push("/")}catch(e){console.error("登录失败:",e)}finally{n.value=!1}}})};return(p,e)=>{const c=r("el-input"),a=r("el-form-item"),x=r("el-checkbox"),w=r("el-button"),y=r("router-link"),v=r("el-form");return k(),h("div",N,[u("div",R,[e[6]||(e[6]=u("h2",{class:"text-2xl font-bold text-center mb-8",style:{color:"var(--text-primary)"}}," 用户登录 ",-1)),o(v,{ref_key:"formRef",ref:m,model:t,rules:b,"label-width":"80px"},{default:l(()=>[o(a,{label:"用户名",prop:"username"},{default:l(()=>[o(c,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=s=>t.username=s),placeholder:"请输入用户名",clearable:""},null,8,["modelValue"])]),_:1}),o(a,{label:"密码",prop:"password"},{default:l(()=>[o(c,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=s=>t.password=s),type:"password",placeholder:"请输入密码","show-password":"",onKeyup:U(i,["enter"])},null,8,["modelValue"])]),_:1}),o(a,null,{default:l(()=>[o(x,{modelValue:t.remember,"onUpdate:modelValue":e[2]||(e[2]=s=>t.remember=s)},{default:l(()=>[...e[3]||(e[3]=[d("记住我",-1)])]),_:1},8,["modelValue"])]),_:1}),o(a,null,{default:l(()=>[o(w,{type:"primary",loading:n.value,class:"w-full",onClick:i},{default:l(()=>[...e[4]||(e[4]=[d(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1}),u("div",q,[o(y,{to:"/register",class:"text-sm",style:{color:"var(--color-primary)"}},{default:l(()=>[...e[5]||(e[5]=[d(" 还没有账号？立即注册 ",-1)])]),_:1})])]),_:1},8,["model"])])])}}},M=V(K,[["__scopeId","data-v-eaf0a570"]]);export{M as default};
