import{_ as U,o as j,a as r,c as d,b as t,t as o,d as a,w as c,e as i,f as T,F as x,r as y,g as V,h as _,i as u,u as D,n as E}from"./index-BOupgZvc.js";import{g as M,a as R}from"./article-DBlYbpKZ.js";import{g as q}from"./category-DCVvt8l0.js";import{g as G}from"./tag-BgUr4tH5.js";import"./request-sz1W-oIh.js";const J={class:"py-6 md:py-8"},K={class:"flex flex-col lg:flex-row gap-6"},O={class:"flex-1 min-w-0"},P={class:"text-xl md:text-2xl font-semibold mb-3",style:{color:"var(--text-primary)"}},Q={class:"text-sm md:text-base mb-4 line-clamp-2",style:{color:"var(--text-secondary)"}},W={class:"flex flex-wrap gap-4 text-xs md:text-sm",style:{color:"var(--text-tertiary)"}},X={class:"flex items-center gap-1"},Y={class:"flex items-center gap-1"},Z={class:"flex items-center gap-1"},tt={class:"flex items-center gap-1"},et={class:"space-y-4"},st=["onClick"],ot={class:"text-base font-medium mb-2",style:{color:"var(--text-primary)"}},at={class:"text-sm mb-3 line-clamp-2",style:{color:"var(--text-secondary)"}},lt={class:"flex flex-wrap gap-3 text-xs",style:{color:"var(--text-tertiary)"}},rt={class:"flex items-center gap-1"},nt={class:"flex items-center gap-1"},ct={class:"flex items-center gap-1"},it={class:"w-full lg:w-70 flex-shrink-0 space-y-5"},dt={class:"card"},ut={class:"space-y-2"},mt={class:"card"},pt={class:"space-y-3"},_t={class:"text-xs flex-shrink-0",style:{color:"var(--text-tertiary)"}},xt={class:"card"},yt={class:"flex flex-wrap gap-2"},ft={__name:"Index",setup(vt){const L=D(),f=_([]),n=_(null),v=_([]),h=_([]),g=_([]),w=s=>{L.push(`/article/${s}`)},B=async()=>{try{const l=(await M({page:1,size:10})).data.records||[];l.length>0&&(n.value=l[0],f.value=l.slice(1))}catch(s){console.error("èŽ·å–æ–‡ç« å¤±è´¥:",s)}},N=async()=>{try{const s=await R({limit:5});v.value=s.data||[]}catch(s){console.error("èŽ·å–çƒ­é—¨æ–‡ç« å¤±è´¥:",s)}},z=async()=>{try{const s=await q();h.value=s.data||[]}catch(s){console.error("èŽ·å–åˆ†ç±»å¤±è´¥:",s)}},I=async()=>{try{const s=await G();g.value=s.data||[]}catch(s){console.error("èŽ·å–æ ‡ç­¾å¤±è´¥:",s)}};return j(()=>{B(),N(),z(),I()}),(s,l)=>{var A;const S=u("User"),m=u("el-icon"),k=u("Calendar"),b=u("View"),C=u("Star"),F=u("el-empty"),$=u("router-link"),H=u("el-tag");return r(),d("div",J,[t("div",K,[t("div",O,[n.value?(r(),d("div",{key:0,class:"card mb-6 cursor-pointer hover:shadow-md transition-shadow duration-200",onClick:l[0]||(l[0]=e=>w(n.value.id))},[t("h2",P,o(n.value.title),1),t("p",Q,o(n.value.summary),1),t("div",W,[t("span",X,[a(m,null,{default:c(()=>[a(S)]),_:1}),i(" "+o(((A=n.value.author)==null?void 0:A.nickname)||"ç®¡ç†å‘˜"),1)]),t("span",Y,[a(m,null,{default:c(()=>[a(k)]),_:1}),i(" "+o(n.value.createTime),1)]),t("span",Z,[a(m,null,{default:c(()=>[a(b)]),_:1}),i(" "+o(n.value.viewCount),1)]),t("span",tt,[a(m,null,{default:c(()=>[a(C)]),_:1}),i(" "+o(n.value.likeCount),1)])])])):T("",!0),l[1]||(l[1]=t("h3",{class:"text-base font-medium mb-4 pl-3 border-l-3 border-blue-500",style:{color:"var(--text-primary)"}}," æœ€æ–°æ–‡ç«  ",-1)),t("div",et,[(r(!0),d(x,null,y(f.value,e=>(r(),d("div",{key:e.id,class:"card cursor-pointer hover:shadow-md transition-shadow duration-200",onClick:p=>w(e.id)},[t("h4",ot,o(e.title),1),t("p",at,o(e.summary),1),t("div",lt,[t("span",rt,[a(m,null,{default:c(()=>[a(k)]),_:1}),i(" "+o(e.createTime),1)]),t("span",nt,[a(m,null,{default:c(()=>[a(b)]),_:1}),i(" "+o(e.viewCount),1)]),t("span",ct,[a(m,null,{default:c(()=>[a(C)]),_:1}),i(" "+o(e.likeCount),1)])])],8,st))),128))]),f.value.length===0&&!n.value?(r(),V(F,{key:1,description:"æš‚æ— æ–‡ç« ",class:"py-12"})):T("",!0)]),t("aside",it,[t("div",dt,[l[2]||(l[2]=t("h4",{class:"font-medium mb-3 flex items-center gap-2",style:{color:"var(--text-primary)"}},[t("span",null,"ðŸ“"),t("span",null,"åˆ†ç±»")],-1)),t("ul",ut,[(r(!0),d(x,null,y(h.value,e=>(r(),d("li",{key:e.id},[a($,{to:`/category/${e.id}`,class:"block py-1.5 px-2 rounded text-sm transition-colors duration-150",style:{color:"var(--text-secondary)"}},{default:c(()=>[i(o(e.name),1)]),_:2},1032,["to"])]))),128))])]),t("div",mt,[l[3]||(l[3]=t("h4",{class:"font-medium mb-3 flex items-center gap-2",style:{color:"var(--text-primary)"}},[t("span",null,"ðŸ”¥"),t("span",null,"çƒ­é—¨æ–‡ç« ")],-1)),t("ul",pt,[(r(!0),d(x,null,y(v.value,(e,p)=>(r(),d("li",{key:e.id,class:"flex items-start gap-2"},[t("span",{class:E(["flex-shrink-0 w-5 h-5 rounded text-xs flex items-center justify-center font-medium",[p===0?"bg-red-500 text-white":"",p===1?"bg-orange-400 text-white":"",p===2?"bg-yellow-400 text-white":"",p>2?"bg-gray-200 text-gray-500 dark:bg-gray-600 dark:text-gray-300":""]])},o(p+1),3),a($,{to:`/article/${e.id}`,class:"flex-1 text-sm truncate transition-colors duration-150",style:{color:"var(--text-secondary)"}},{default:c(()=>[i(o(e.title),1)]),_:2},1032,["to"]),t("span",_t,o(e.viewCount),1)]))),128))])]),t("div",xt,[l[4]||(l[4]=t("h4",{class:"font-medium mb-3 flex items-center gap-2",style:{color:"var(--text-primary)"}},[t("span",null,"ðŸ·ï¸"),t("span",null,"æ ‡ç­¾")],-1)),t("div",yt,[(r(!0),d(x,null,y(g.value,e=>(r(),V(H,{key:e.id,size:"small",class:"cursor-pointer",onClick:p=>s.$router.push(`/tag/${e.id}`)},{default:c(()=>[i(o(e.name),1)]),_:2},1032,["onClick"]))),128))])])])])])}}},Ct=U(ft,[["__scopeId","data-v-c6325d0d"]]);export{Ct as default};
